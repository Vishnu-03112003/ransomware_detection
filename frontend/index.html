<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ransomware Detector</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .box { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 6px; }
  </style>
</head>

<body>
  <h1>Ransomware Detection (Flask UI)</h1>

  <div class="box">
    <h3>Scan File</h3>
    <input type="file" id="file">
    <button onclick="scanFile()">Scan</button>
    <pre id="out1"></pre>
  </div>

  <div class="box">
    <h3>Scan Folder</h3>
    <input type="text" id="folder" placeholder="C:\\Users\\You\\sample_testfiles">
    <button onclick="scanFolder()">Scan</button>
    <pre id="out2"></pre>
  </div>

  <script>
    const backend = "https://ransomware-detection.onrender.com"; // âœ… your deployed backend URL

    async function scanFile() {
      let f = document.getElementById('file').files[0];
      if (!f) return alert('Please choose a file.');

      let fd = new FormData();
      fd.append('file', f);

      let r = await fetch(`${backend}/api/scan_file`, {
        method: 'POST',
        body: fd
      });

      let d = await r.json();
      document.getElementById('out1').textContent = JSON.stringify(d, null, 2);
    }

    async function scanFolder() {
      let p = document.getElementById('folder').value;
      if (!p) return alert('Enter a folder path.');

      let r = await fetch(`${backend}/api/scan_folder`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ folder: p })
      });

      let d = await r.json();
      document.getElementById('out2').textContent = JSON.stringify(d, null, 2);
    }
  </script>
</body>
</html>
